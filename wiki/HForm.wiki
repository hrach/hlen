#labels Phase-Implementation
= HForm =

HForm je třída poskytující komplexní služby pro vytváření formulářu. Pomocí ní také můžete jednoduše zvalidovat vstup.

HForm metody jsou velmi blízké NForm knihovně od Davida Grudla. Přístup je tedy podobný. V poslední revizích si ale začíná HForm hledat vlastní cestu a oné podobnosti si možná ani nevšimnete.

== Vytvoření formuláře ==

Formluář vytvoříme jednoduše takto

{{{
$form = new HForm($url);

$form->addText('name')
     ->addText('surname')
     ->addSubmit();
}}}

== Vyrenderování formuláře ==

Pro tuto chvíli máme formulář pouze nadefinovaný. Pokud ho chcete vypsat, můžete ho nechat automaticky vyrednderovat:

{{{
echo $form;

// a nebo výstižněji
echo $form->render();
}}}

HForm samozřejmě nabízí profesionální přístup pro přesnou specifikaci vystupu. Snažil jsem se oddělit definici 'struktury' od definice 'popisků apod.'.
Ukázka:

{{{
echo $form['name']->label('Jméno');
echo $form['name']->element;

echo $form['surname']->label('Přijmení');
echo $form['surname']->element;

echo $form['submit']->element('Odeslat');
}}}

Můžete také jednoduše měnit atributy:

{{{
echo $form['name']->label('Jméno', array('class' => 'myform'));
echo $form['name']->element(array('class' => 'myform'));

echo $form['surname']->label('Přijmení', array('class' => 'myform'));
echo $form['surname']->element(array('class' => 'myform'));

echo $form['submit']->element('Odeslat', array('class' => 'myform'));
}}}

Nyní budou mít všechny elementy třídu 'myform'.


== Další prvky tvoření ==

Dále je lze samozřejmě přidat další html prvky:

{{{
$form->addTextArea('obsah')
     ->addSelect('rok', array(2000, 2001, 2002))
     ->addFile('file')
     ->addCheckBox('chcete___')
     ->addPassword('heslo');
}}}

U všech těchto elementů je při jejich výpisu stejná analogie, jak již bylo dříve napsáno. Dále se v HForm objevuje trošku odlišný prvek:

{{{
$form->addMultiCheckBox('seznam_medii', array('
         'cd' => 'CD',
         'dvd' => 'DVD',
         'br' => 'Blue-ray',
         'vhs' => 'VHS',
         'mc' => 'MC'
     '));
}}}

A práve s multi-check-boxem se pracuje trochu jinak:

{{{
foreach($form['seznam_medii'] as $row) {
    echo $row->label;
    echo $row->element;
}
}}}

Případně můžete při konstatním počtu checkboxů vypsat elementy ručně:

{{{
echo $form['seznam_medii']['cd']->label;
echo $form['seznam_medii']['cd']->element;

// atd.
}}}

Na dalších prvcích se pracuje.